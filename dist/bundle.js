window.addEventListener("load",(async function(){let t,e;try{const n=await fetch("http://localhost:1212/db/random");if(!n.ok)throw new Error("Error getting data");const o=await n.json();t=o.passage,e=o.author;const a=document.getElementById("textPassage");t.split("").forEach((t=>{const e=document.createElement("span");e.textContent=t,a.appendChild(e)})),document.getElementById("authorBox").textContent=`By: ${e}`,a.textContent.split(" "),a.textContent.split("");const c=document.getElementById("typingBox");let r=0,d=!0;c.addEventListener("input",(function(t){checkForMatch()})),c.addEventListener("keydown",(function(t){"Shift"!=t.key&&"CapsLock"!=t.key&&1==d&&("Backspace"!=t.key&&r++,handleTimer(),handleWordsPerMinute(),matchChar(t),ensureSpacing(t))}))}catch(t){throw new Error(t)}}));